<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
    <p>The delete user and user index api routes are restricted to users with the 'admin' role.</p>
    <ul class="list-group">
        <li class="list-group-item" ng-repeat="user in users">
            <strong>{{user.name}}</strong><br>
            <span class="text-muted">{{user.email}}</span>
            <a ng-click="delete(user)" class="trash"><span class="glyphicon glyphicon-trash pull-right"></span></a>
        </li>
    </ul>
    <div class="panel panel-info" ng-repeat="question in questions">
        <div class="panel-heading">
            <div class="row">
                <div class="col-sm-6 col-lg-8">
                    <input type="text" ng-model="question.text" class="form-control clearfix">
                </div>
                <div class="col-sm-6 col-lg-4">
                    <h5 class="pull-right">
                        Submitted by {{question.submitter || 'Unknown'}} on {{question.submitted | date:'medium'}}
                    </h5>
                </div>
            </div>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-sm-12">
                    <textarea style="min-height:100px; margin-bottom:15px;" type="text" ng-model="question.answer" ng-change="question.dirty = true;" class="form-control"></textarea>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                </div>
                <div class="col-sm-4 col-sm-offset-4">
                    <div class=" pull-right">
                        <button type="button" class="btn btn-link" ng-click="question.$remove()">Remove this question</button>
                        <button type="button" class="btn btn-primary" ng-disabled="!question.dirty" ng-click="question.$update()">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>